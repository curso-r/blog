<!DOCTYPE html>
<html lang="pt-br"><head>
  <meta charset="utf-8">

  
  <title>Analisando o seu histórico do Netflix</title>
  <meta name="title" content="Analisando o seu histórico do Netflix">
  <meta name="description" content="Neste post, vamos brincar com o histórico de visualização do Netflix.">

  
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blog.curso-r.com/posts/2019-06-05-netflix/">
  <meta property="og:title" content="Analisando o seu histórico do Netflix">
  <meta property="og:description" content="Neste post, vamos brincar com o histórico de visualização do Netflix.">
  <meta property="og:image" content="https://blog.curso-r.com/images/posts/banner/binge.webp?nf_resize=fit&w=300">

  
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://blog.curso-r.com/posts/2019-06-05-netflix/">
  <meta property="twitter:title" content="Analisando o seu histórico do Netflix">
  <meta property="twitter:description" content="Neste post, vamos brincar com o histórico de visualização do Netflix.">
  <meta property="twitter:image" content="https://blog.curso-r.com/images/posts/banner/binge.webp">

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="generator" content="Hugo 0.108.0">

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://blog.curso-r.com/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/css/custom.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/css/github.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://blog.curso-r.com/css/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://blog.curso-r.com/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://blog.curso-r.com/images/favicon.png " type="image/x-icon">
</head>
<body>
<!-- preloader start -->
<div class="preloader">
  <div class="loader">
    <span class="dot"></span>
    <div class="dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
</div>
<!-- preloader end -->
<header class="navigation">
  <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="https://blog.curso-r.com/"><img class="img-fluid" src="https://blog.curso-r.com/images/logo.webp" alt="Blog | Curso-R" width = "200px", height="100px"></a>
    <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navogation"
      aria-controls="navogation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navogation">
      <ul class="navbar-nav ml-auto">
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://blog.curso-r.com/">Blog</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://blog.curso-r.com/categories/desafio">Desafios</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://www.curso-r.com/cursos">Cursos</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://discourse.curso-r.com/">Fórum</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://www.curso-r.com">Curso-R</a>
        </li>
        
        
      </ul>
      
      <!-- search -->
      <form class="form-inline position-relative ml-lg-4 form-searh" action="/search">
        <input class="form-control px-0" type="search" placeholder="" id="search-query" name="s">
        <button class="search-icon" type="submit"><i class="ti-search text-dark"></i></button>
      </form>
      
    </div>
  </nav>
</header>



<section class="section bg-posts" style = "background-image: url('https://blog.curso-r.com/images/posts/banner/binge.webp')">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1 class = "titulo-post">Analisando o seu histórico do Netflix</h1>
      </div>
    </div>
  </div>
</section>



<section>
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <ul class="list-inline d-flex justify-content-between py-3">
          <li class="list-inline-item">
            <i class="ti-user mr-2"></i>
            Escrito por
            
            
              <a href = "https://blog.curso-r.com/search/?s=William">William</a>
            
            em
            <a href="/categories/an%c3%a1lises">Análises</a>
          </li>
          <li class="list-inline-item">
            <i class="ti-calendar mr-2"></i>
            6 de
            junho de
            2019
          </li>
        </ul>
        <ul class="list-inline tag-list">
          
            <li class="list-inline-item m-1"><a href="/tags/netflix">Netflix</a></li>
        </ul>
        <article class="content">
          
            


<p>Motivado pelo tweet da jornalista de dados <a href="https://twitter.com/gabrielacaesar">Gabriela Caesar</a>, resolvi pegar a base do meu histórico no Netflix e montar algumas visualizações para descobrir como venho utilizando a plataforma nesses últimos anos.</p>
<center>
<blockquote class="twitter-tweet" data-lang="en">
<p lang="pt" dir="ltr">
Qual foi o primeiro filme ou a primeira série a que você assistiu quando assinou a Netflix? No meu caso, em março de 2016, vi “House of Cards: Temporada 1: Capítulo 1” e “De Volta ao Jogo”. Baixe o seu histórico da Netflix aqui: <a href="https://t.co/EzG2nki18I">https://t.co/EzG2nki18I</a>
</p>
— gabriela caesar (<span class="citation">@gabrielacaesar</span>) <a href="https://twitter.com/gabrielacaesar/status/1136119301822459904?ref_src=twsrc%5Etfw">June 5, 2019</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>A seguir, explico o passo a passo da análise e apresento os resultados.</p>
<div id="pegar-a-base" class="section level2">
<h2>1. Pegar a base</h2>
<p>Como explicado no link divulgado pela Gabriela, para baixar a base basta seguir os seguintes passos:</p>
<ul>
<li><p>Fazer login no Netflix e escolher o perfil para o qual você quer baixar os dados.</p></li>
<li><p>Entrar na página <a href="https://www.netflix.com/viewingactivity">netflix.com/viewingactivity</a>.</p></li>
<li><p>No final da página, clicar em <strong>Download all</strong>.</p></li>
</ul>
</div>
<div id="lendo-a-base-e-fazendo-algumas-manipulações" class="section level2">
<h2>2. Lendo a base e fazendo algumas manipulações</h2>
<p>A base vem em um arquivo <code>.csv</code> com duas colunas:</p>
<ul>
<li><p>título da série/filme que você assistiu;</p></li>
<li><p>data em que o título foi assistido.</p></li>
</ul>
<p>O título traz informação sobre o nome do filme ou da série e, se for uma série, também a temporada e o episódio. A data corresponde ao dia, mês e ano que o título foi assistido, sem informação da hora. Sempre começamos a assistir qualquer título, uma nova linha é gerada na base, independentemente se assistimos por 1 minuto ou até o final.</p>
<p>À princípio, não temos informação sobre a categoria (filme, série, documentário etc) ou duração de cada programa. No entanto, supondo que séries sempre terão padrões do tipo <code>: Season</code> na coluna Título, podemos criar a coluna <em>categoria</em> para separar as séries dos filmes/documentários. Além dela, para gerar mais informações, eu criei as seguintes colunas a partir da base original:</p>
<ul>
<li><p>mês da visualização;</p></li>
<li><p>ano da visualização;</p></li>
<li><p>dia da semana em que o título foi visualizado;</p></li>
<li><p>programa.</p></li>
</ul>
<p>A construção da coluna <code>programa</code>, no caso das séries, supõe que tudo o que aparece depois do <code>:</code> nos nomes dos títulos é informação sobre temporada e episódio. Assim, removendo essa informação, podemos contar quantas vezes assistimos cada série, independentemente do episódio.</p>
<pre class="r"><code>library(tidyverse)
theme_set(theme_minimal())

netflix &lt;- read_csv(&quot;../../static/data/netflix/NetflixViewingHistory.csv&quot;)

# A depender do idioma que você configurou no Netflix, a data pode vir num formato diferente.
parseia_data &lt;- function(x) {
  data &lt;- lubridate::dmy(x)
  if(sum(is.na(data)) &gt; 0) {
    data &lt;- lubridate::mdy(x)
  }
  return(data)
}

netflix &lt;- netflix %&gt;% 
  mutate(
    Date = parseia_data(Date),
    mes = lubridate::month(Date, label = TRUE, locale = &quot;pt_BR.UTF-8&quot;),
    ano = lubridate::year(Date),
    dia_sem = lubridate::wday(Date, label = TRUE, locale = &quot;pt_BR.UTF-8&quot;),
    categoria = str_detect(Title, &quot;: &quot;),
    categoria = ifelse(categoria, &quot;Séries&quot;, &quot;Filmes/Docs.&quot;),
    mes_ano = Date,
    programa = str_remove(Title, &quot;:.*&quot;)
  )

lubridate::day(netflix$mes_ano) &lt;- 1

# A coluna mes_ano é a coluna Date com o dia do mês sempre igual a 1.
# Isso facilita a agredação da base por mês.

ex1 &lt;- tibble(date = c(&quot;14/01/19&quot;, &quot;20/09/20&quot;), date2 = c(&quot;12/30/2019&quot;, &quot;10/01/15&quot;))</code></pre>
</div>
<div id="resultados" class="section level2">
<h2>3. Resultados</h2>
<p>Primeiro, fiz um gráfico para ver a série temporal do número de títulos assistidos ao longo do tempo (eu assinei a Netflix em julho de 2012). Entre um pico de visualização ou outro (as famosas maratonas), a minha frequência foi mais ou menos constante ao longo dos anos, com exceção à 2019 (reta pontilhada), cuja queda coincide com a reta final do meu Doutorado.</p>
<pre class="r"><code>netflix %&gt;% 
  count(mes_ano) %&gt;% 
  ggplot(aes(x = mes_ano, y = n)) +
  geom_line() +
  geom_smooth(se = FALSE, color = &quot;#e50914&quot;) +
  geom_vline(
    aes(xintercept = as.numeric(mes_ano[mes_ano == &quot;2019/01/01&quot;])), 
    linetype = 2, 
    color = &quot;red&quot;
  ) +
  labs(x = &quot;Ano&quot;, y = &quot;Frequência&quot;)</code></pre>
<p><img src="/posts/2019-06-05-netflix_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Para ver quais meses do ano eu assisto mais netflix, eu fiz um gráfico do número médio de títulos assistido por mês do ano. Talvez um reflexo de 12 anos na universidade, julho, mês de férias letivas, é o que em média eu mais assisti Netflix.</p>
<pre class="r"><code>netflix %&gt;% 
  count(mes, ano, categoria) %&gt;% 
  group_by(mes, categoria) %&gt;% 
  summarise(freq_media = mean(n)) %&gt;% 
  mutate(freq_media = round(freq_media)) %&gt;% 
  ggplot(aes(x = mes, y = freq_media, fill = categoria)) +
  geom_col() +
  labs(x = &quot;Mês&quot;, y = &quot;Frequência média&quot;)</code></pre>
<p><img src="/posts/2019-06-05-netflix_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Fiz também o gráfico por ano, contando o número de programas assistidos por ano. 2018 foi o campeão, mas com certeza foi influência do meu pai e da minhã irmã, que usaram o meu perfil por um tempo.</p>
<pre class="r"><code>netflix %&gt;% 
  count(ano, categoria) %&gt;% 
  ggplot(aes(x = ano, y = n, fill = categoria)) +
  geom_col() +
  labs(x = &quot;Ano&quot;, y = &quot;Frequência total&quot;, fill = &quot;&quot;) +
  scale_x_continuous(breaks = min(netflix$ano):max(netflix$ano))</code></pre>
<p><img src="/posts/2019-06-05-netflix_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Analisando agora o dia da semana, sem surpresa: fins de semana ganham. Mas é curioso que eu costumo assistir mais filmes às sextas do que no resto da semana.</p>
<pre class="r"><code>netflix %&gt;% 
  count(dia_sem, categoria) %&gt;% 
  ggplot(aes(x = dia_sem, y = n, fill = categoria)) +
  geom_col() +
  labs(x = &quot;Dia da semana&quot;, y = &quot;Frequência total&quot;, fill = &quot;&quot;)</code></pre>
<p><img src="/posts/2019-06-05-netflix_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Por fim, contei as séries que mais assisti. O resultado representa bem o meu gosto: 8 das 10 séries são comédias (sendo que o desenho Avatar nem fui eu quem assistiu).</p>
<pre class="r"><code>netflix %&gt;% 
  filter(categoria  == &quot;Séries&quot;) %&gt;% 
  count(programa) %&gt;%
  top_n(10, n) %&gt;% 
  mutate(programa = fct_reorder(programa, n)) %&gt;% 
  ggplot(aes(x = programa, y = n)) +
  geom_col(fill = &quot;#e50914&quot;, color = &quot;black&quot;) +
  geom_text(aes(label = n, y = n/2), color = &quot;white&quot;) +
  labs(x = &quot;Série&quot;, y = &quot;Total de visualizações&quot;) +
  coord_flip()</code></pre>
<p><img src="/posts/2019-06-05-netflix_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="faça-os-gráficos-para-os-seus-dados" class="section level2">
<h2>4. Faça os gráficos para os seus dados</h2>
<p>Eu criei um aplicativo web usando Shiny para que você possa fazer essa mesma análise com apenas alguns cliques. Para isso,</p>
<ul>
<li><p>baixe a sua base como descrito no passo 1 deste post;</p></li>
<li><p>acesse o seguinte link <a href="https://rseis.shinyapps.io/shinyNetflix/" class="uri">https://rseis.shinyapps.io/shinyNetflix/</a>;</p></li>
<li><p>faça o upload da base;</p></li>
<li><p>clique na imagem gerada com o botão direito para copiá-la ou salvá-la e compartilhe com a gente no Twitter ou Facebook!</p></li>
</ul>
<p>Vale lembrar que a construção dos gráficos supõe algumas heurísticas que eu criei baseado apenas na minha base. Invariavelmente acontecerão algumas classificações erradas, mas se o app não gerar os gráficos para a sua base, por favor nos avise que tentaremos arrumar.</p>
<p>Dúvidas, críticas e sugestões, é só deixar um comentário!</p>
</div>

          
        </article>
        
  <div class="disqus-comments">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "curso-r-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>


      </div>
      <div class="col-lg-1">
</div>
<div class="col-lg-3">
  
  <div class="widget">
    <h4 class="mb-4">POSTS MAIS RECENTES</h4>
    
    <div class="media mb-4">
      <div class="post-thumb-sm mr-3">
        <a href="https://blog.curso-r.com/posts/2023-07-24-dplyr-lead-lag/"><img class="mr-3 post-thumb-sm" src="https://blog.curso-r.com/images/posts/banner/exploring-dplyr.webp"></a>
      </div>
      <div class="media-body">
        <h5><a class="text-dark" href="https://blog.curso-r.com/posts/2023-07-24-dplyr-lead-lag/">Explorando o pacote dplyr: lag/lead</a></h5>
        <p>Por William em <a href="/categories/tutoriais">Tutoriais</a></p>
      </div>
    </div>
    
    <div class="media mb-4">
      <div class="post-thumb-sm mr-3">
        <a href="https://blog.curso-r.com/posts/2023-04-15-submodulos/"><img class="mr-3 post-thumb-sm" src="https://blog.curso-r.com/images/posts/banner/submodulos.webp"></a>
      </div>
      <div class="media-body">
        <h5><a class="text-dark" href="https://blog.curso-r.com/posts/2023-04-15-submodulos/">Submódulos no Git</a></h5>
        <p>Por Caio em <a href="/categories/tutoriais">Tutoriais</a></p>
      </div>
    </div>
    
    <div class="media mb-4">
      <div class="post-thumb-sm mr-3">
        <a href="https://blog.curso-r.com/posts/2023-04-14-indexacao/"><img class="mr-3 post-thumb-sm" src="https://blog.curso-r.com/images/posts/banner/indexacao.webp"></a>
      </div>
      <div class="media-body">
        <h5><a class="text-dark" href="https://blog.curso-r.com/posts/2023-04-14-indexacao/">Indexando listas no R</a></h5>
        <p>Por Caio em <a href="/categories/tutoriais">Tutoriais</a></p>
      </div>
    </div>
    
  </div>
  <div class="widget">
    <h4 class="mb-4">LEIA MAIS SOBRE</h4>
    <ul class="list-inline tag-list">
      <li class="list-inline-item m-1"><a href="/categories/an%c3%a1lises">Análises</a></li>
      <li class="list-inline-item m-1"><a href="/categories/boas-pr%c3%a1ticas">Boas práticas</a></li>
      <li class="list-inline-item m-1"><a href="/categories/conceitos">Conceitos</a></li>
      <li class="list-inline-item m-1"><a href="/categories/debugging">Debugging</a></li>
      <li class="list-inline-item m-1"><a href="/categories/desafio">Desafio</a></li>
      <li class="list-inline-item m-1"><a href="/categories/discuss%c3%b5es">Discussões</a></li>
      <li class="list-inline-item m-1"><a href="/categories/divulga%c3%a7%c3%a3o">Divulgação</a></li>
      <li class="list-inline-item m-1"><a href="/categories/erros">Erros</a></li>
      <li class="list-inline-item m-1"><a href="/categories/pacotes">Pacotes</a></li>
      <li class="list-inline-item m-1"><a href="/categories/r">R</a></li>
      <li class="list-inline-item m-1"><a href="/categories/top-10">Top 10</a></li>
      <li class="list-inline-item m-1"><a href="/categories/tutoriais">Tutoriais</a></li>
      <li class="list-inline-item m-1"><a href="/categories/tutorial">Tutorial</a></li>
    </ul>
  </div>
</div>

    </div>
  </div>
</section>




<footer class="bg-footer" style = "background-image: url('https://blog.curso-r.com/images/footerImage.webp')">
  <div class="section">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          <a href="https://www.curso-r.com"><img src="https://blog.curso-r.com/images/footerLogo.webp" alt="Blog | Curso-R" class="img-fluid"></a>
        </div>
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          
          <h6>Dúvidas de R?</h6>
          <ul class="list-unstyled">
            <li class="font-secondary text-dark"><a href="https://discourse.curso-r.com/">Acesse nosso fórum</a></li>
          </ul>
          
        </div>
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          
          <h6>Fale com a gente</h6>
          <ul class="list-unstyled">
            
            
            <li class="font-secondary text-dark"><a href="mailto:contato@curso-r.com">contato@curso-r.com</a></li>
            
          </ul>
          
        </div>
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          <h6>Siga a Curso-R</h6>
          <ul class="list-inline d-inline-block">
            
            <li class="list-inline-item"><a href="https://github.com/curso-r" class="text-dark" target = "_blank"><i class="ti-github"></i></a></li>
            
            <li class="list-inline-item"><a href="https://twitter.com/curso_r" class="text-dark" target = "_blank"><i class="ti-twitter-alt"></i></a></li>
            
            <li class="list-inline-item"><a href="https://www.instagram.com/cursoo_r/" class="text-dark" target = "_blank"><i class="ti-instagram"></i></a></li>
            
            <li class="list-inline-item"><a href="https://br.linkedin.com/company/curso-r" class="text-dark" target = "_blank"><i class="ti-linkedin"></i></a></li>
            
            <li class="list-inline-item"><a href="https://www.facebook.com/cursodeR/" class="text-dark" target = "_blank"><i class="ti-facebook"></i></a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
    <div class="text-center pb-3 copyright">
        <h6 class="mb-0">Copyright © 2021 Curso-R</h6>
        <p class="mb-0" style = "font-size: 0.8em;"> Site feito em <a href = "https://gohugo.io/" target = "_blank">Hugo</a>, com o pacote <a href = "https://bookdown.org/yihui/blogdown/" target = "_blank">Blogdown</a>. Tema por <a href = "https://themefisher.com/" target = "_blank">Themefisher</a>.</p>
    </div>
</footer>



<script>
  var indexURL = "https://blog.curso-r.com/index.json"
</script>


<!-- JS Plugins -->

<script src="https://blog.curso-r.com/plugins/jQuery/jquery.min.js"></script>

<script src="https://blog.curso-r.com/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://blog.curso-r.com/plugins/slick/slick.min.js"></script>

<script src="https://blog.curso-r.com/plugins/headroom/headroom.js"></script>

<script src="https://blog.curso-r.com/plugins/instafeed/instafeed.min.js"></script>

<script src="https://blog.curso-r.com/plugins/masonry/masonry.js"></script>

<script src="https://blog.curso-r.com/plugins/reading-time/readingTime.min.js"></script>

<script src="https://blog.curso-r.com/plugins/smooth-scroll/smooth-scroll.js"></script>

<script src="https://blog.curso-r.com/plugins/search/fuse.min.js"></script>

<script src="https://blog.curso-r.com/plugins/search/mark.js"></script>

<script src="https://blog.curso-r.com/plugins/search/search.js"></script>

<script src="https://blog.curso-r.com/js/highlight.pack.js"></script>

<script src="https://platform.illow.io/banner.js?siteId=962b4071-1b48-4756-8b80-68101acc70df"></script>


<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- Main Script -->

<script src="https://blog.curso-r.com/js/script.min.js"></script>

<!-- google analitycs -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-87272102-2', 'auto');
  ga('send', 'pageview');
</script>





</body>
</html>