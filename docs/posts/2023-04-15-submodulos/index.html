<!DOCTYPE html>
<html lang="pt-br"><head>
  <meta charset="utf-8">

  
  <title>Submódulos no Git</title>
  <meta name="title" content="Submódulos no Git">
  <meta name="description" content="Um pequeno tutorial para quem quer começar a usar submódulos no Git">

  
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blog.curso-r.com/posts/2023-04-15-submodulos/">
  <meta property="og:title" content="Submódulos no Git">
  <meta property="og:description" content="Um pequeno tutorial para quem quer começar a usar submódulos no Git">
  <meta property="og:image" content="https://blog.curso-r.com/images/posts/banner/submodulos.webp?nf_resize=fit&w=300">

  
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://blog.curso-r.com/posts/2023-04-15-submodulos/">
  <meta property="twitter:title" content="Submódulos no Git">
  <meta property="twitter:description" content="Um pequeno tutorial para quem quer começar a usar submódulos no Git">
  <meta property="twitter:image" content="https://blog.curso-r.com/images/posts/banner/submodulos.webp">

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="generator" content="Hugo 0.85.0" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://blog.curso-r.com/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/css/custom.css ">
  
  <link rel="stylesheet" href="https://blog.curso-r.com/css/github.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://blog.curso-r.com/css/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://blog.curso-r.com/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://blog.curso-r.com/images/favicon.png " type="image/x-icon">
</head>
<body>
<!-- preloader start -->
<div class="preloader">
  <div class="loader">
    <span class="dot"></span>
    <div class="dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
</div>
<!-- preloader end -->
<header class="navigation">
  <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="https://blog.curso-r.com/"><img class="img-fluid" src="https://blog.curso-r.com/images/logo.webp" alt="Blog | Curso-R" width = "200px", height="100px"></a>
    <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navogation"
      aria-controls="navogation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navogation">
      <ul class="navbar-nav ml-auto">
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://blog.curso-r.com/">Blog</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://blog.curso-r.com/categories/desafio">Desafios</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://www.curso-r.com/cursos">Cursos</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://discourse.curso-r.com/">Fórum</a>
        </li>
        
        
        
        <li class="nav-item">
          <a class="nav-link text-uppercase text-dark" href="https://www.curso-r.com">Curso-R</a>
        </li>
        
        
      </ul>
      
      <!-- search -->
      <form class="form-inline position-relative ml-lg-4 form-searh" action="/search">
        <input class="form-control px-0" type="search" placeholder="" id="search-query" name="s">
        <button class="search-icon" type="submit"><i class="ti-search text-dark"></i></button>
      </form>
      
    </div>
  </nav>
</header>



<section class="section bg-posts" style = "background-image: url('https://blog.curso-r.com/images/posts/banner/submodulos.webp')">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1 class = "titulo-post">Submódulos no Git</h1>
      </div>
    </div>
  </div>
</section>



<section>
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <ul class="list-inline d-flex justify-content-between py-3">
          <li class="list-inline-item">
            <i class="ti-user mr-2"></i>
            Escrito por
            
            
              <a href = "https://blog.curso-r.com/search/?s=Caio">Caio</a>
            
            em
            <a href="/categories/tutoriais">Tutoriais</a>
          </li>
          <li class="list-inline-item">
            <i class="ti-calendar mr-2"></i>
            15 de
            abril de
            2023
          </li>
        </ul>
        <ul class="list-inline tag-list">
          
            <li class="list-inline-item m-1"><a href="/tags/programa%c3%a7%c3%a3o">programação</a></li>
            <li class="list-inline-item m-1"><a href="/tags/git">git</a></li>
        </ul>
        <article class="content">
          
            


<p>Ano passado, o time da <a href="https://curso-r.com/">Curso-R</a> se reuniu para conversar
sobre a nova estrutura dos nossos <a href="https://loja.curso-r.com/">cursos</a>. Um dos
pontos da pauta era a organização dos nossos repositórios que, ao longo dos
anos, foi ficando cada vez mais difícil de manter.</p>
<p>Cada oferecimento de cada curso tem um repositório no
<a href="https://github.com/curso-r">GitHub</a>, o que nos permite personalizar o conteúdo
de uma turma sem afetar as outras. Mas essa granularidade cria um problema: o
que fazer com o material que é comum a todas as turmas de um mesmo curso?</p>
<div id="o-problema" class="section level2">
<h2>O problema</h2>
<p>Imagine que existe uma <strong>turma A</strong>, que participou do curso <a href="https://loja.curso-r.com/r-para-ciencia-de-dados-3.html"><em>R para Ciência de
Dados III</em></a> este ano, e
uma <strong>turma B</strong>, que vai fazer o curso no ano que vem.</p>
<p>No passado nós copiávamos todo o conteúdo do repo A para o repo B, mas hoje em
dia nós criamos os repositórios dos cursos com antecedência. Isso significa que
qualquer alteração no material durante o oferecimento A precisaria ser propagada
cuidadosamente para para o oferecimento B; infelizmente isso pode dar muito
trabalho.</p>
<p>A solução que encontramos foi criar um repositório <code>main</code> para cada curso, ou
seja, um repo central que contém apenas os slides. Assim, os repos das turmas só
precisam hospedar o conteúdo que muda de um oferecimento para o outro
(exercícios, anexos, comentários, etc.) e qualquer alteração nos slides
imediatamente se aplica a todos os repos satélites.</p>
<p>Tudo funcionou perfeitamente bem até que decidimos fazer a primeira mudança na
<em>ementa</em> de um curso. O problema desta estratégia é qualquer alteração no <code>main</code>
é propagada para o passado; logo, se durante o oferecimento B resolvermos fazer
uma reestruturação grande no material, a turma A vai perder a versão dela e
ficará sem as suas referências.</p>
<p>O ideal seria ter uma maneira de atualizar os slides seletivamente, ou seja,
manter a turma A na versão anterior do <code>main</code> e passar a B para a versão nova.
Isso tudo sem quebrar os repos feitos com antecedência.</p>
</div>
<div id="submódulos" class="section level2">
<h2>Submódulos</h2>
<p>É aí que entram os submódulos. De acordo com a
<a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">documentação</a>, eles são
essencialmente repos dentro de outros repos, ou seja, clonamos um repo (o
submódulo) dentro de um repo hospedeiro. Inception.</p>
<p>Como eu posso usar submódulos para resolver meu problema com as turmas? Eu posso
continuar usando o repo <code>main</code> para armazenar os slides, mas, ao invés de
deixá-lo isolado, ele seria clonado como submódulo dentro do repo de cada turma.
Neste arranjo, eu posso apontar o submódulo da turma A para a versão antiga do
<code>main</code> e manter o da turma B apontado para a versão mais nova.</p>
<p>Para começar a usar submódulos, eu recomendo executar os seguintes comandos Git,
pois eles garantem que o seu ambiente estará adequadamente preparado:</p>
<pre class="sh"><code>git config --global submodule.recurse true
git config --global push.recurseSubmodules check</code></pre>
<p>Agora, dentro do repositório desejado, eu posso rodar o comando abaixo para
trazer o repo <code>main</code> como um submódulo:</p>
<pre class="sh"><code>git submodule add https://github.com/curso-r/main-r4ds-3.git materiais/</code></pre>
<p>Isso é muito similar a fazer um clone normal! No caso, o repositório
<code>main-r4ds-3</code> será clonado na pasta <code>materiais/</code> no repo hospedeiro.</p>
<p>A partir de agora, eu posso usar sempre o repo hospedeiro, sem me preocupar com
o <code>main</code>. Se eu fizer uma alteração na pasta <code>materiais/</code>, basta fazer um commit
como qualquer outro! A atualização não vai para o repo da turma, mas sim para o
<code>main</code>.</p>
<pre class="sh"><code>cd materiais/
git add -A
git commit -m &quot;Alteração no main&quot;
git push</code></pre>
<p>Se voltarmos para a pasta um nível acima e executarmos <code>git status</code>, vamos ver
que houve uma alteração em um arquivo chamado <code>.gitmodules</code>. Isso quer dizer que
o submódulo foi atualizado no GitHub, não que ele foi atualizado no repo da
turma.</p>
<p>Este é o pulo do gato: podemos atualizar o <code>main</code> quantas vezes quisermos, mas
as atualizações só serão propagadas para o repo da turma se aceitarmos a
alteração.</p>
<pre class="sh"><code>cd ../
git status
git add -A
git commit -m &quot;Aceitando alterações do main&quot;
git push</code></pre>
<p>Isso permite que o repo de uma turma antiga como a A mantenha a sua referência a
uma versão anterior do <code>main</code> ao mesmo passo que o repo das turmas novas podem
ter suas referências atualizadas com facilidade. Se você quiser um exemplo de
como fica uma referência no GitHub, dê uma olhada na demo de submódulos que
fizemos na Curso-R:
<a href="https://github.com/curso-r/202211-demo-submod">https://github.com/curso-r/202211-demo-submod</a>.</p>
<p>E isso é tudo! Se você quiser uma demonstração em vídeo, a referência que eu
usei foi <a href="https://www.youtube.com/watch?v=gSlXo2iLBro">essa aqui</a> do Redhwan
Nacef. Se você tiver qualquer dúvida, faça um comentário aqui no post ou no
nosso <a href="https://discourse.curso-r.com/">Discourse</a> que nós vamos tentar ajudar o
máximo possível. Até a próxima :)</p>
</div>

          
        </article>
        
  <div class="disqus-comments">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "curso-r-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>


      </div>
      <div class="col-lg-1">
</div>
<div class="col-lg-3">
  
  <div class="widget">
    <h4 class="mb-4">POSTS MAIS RECENTES</h4>
    
    <div class="media mb-4">
      <div class="post-thumb-sm mr-3">
        <a href="https://blog.curso-r.com/posts/2023-04-15-submodulos/"><img class="mr-3 post-thumb-sm" src="https://blog.curso-r.com/images/posts/banner/submodulos.webp"></a>
      </div>
      <div class="media-body">
        <h5><a class="text-dark" href="https://blog.curso-r.com/posts/2023-04-15-submodulos/">Submódulos no Git</a></h5>
        <p>Por Caio em <a href="/categories/tutoriais">Tutoriais</a></p>
      </div>
    </div>
    
    <div class="media mb-4">
      <div class="post-thumb-sm mr-3">
        <a href="https://blog.curso-r.com/posts/2023-04-14-indexacao/"><img class="mr-3 post-thumb-sm" src="https://blog.curso-r.com/images/posts/banner/indexacao.webp"></a>
      </div>
      <div class="media-body">
        <h5><a class="text-dark" href="https://blog.curso-r.com/posts/2023-04-14-indexacao/">Indexando listas no R</a></h5>
        <p>Por Caio em <a href="/categories/tutoriais">Tutoriais</a></p>
      </div>
    </div>
    
    <div class="media mb-4">
      <div class="post-thumb-sm mr-3">
        <a href="https://blog.curso-r.com/posts/2023-04-12-ocr/"><img class="mr-3 post-thumb-sm" src="https://blog.curso-r.com/images/posts/banner/pdf-to-text.webp"></a>
      </div>
      <div class="media-body">
        <h5><a class="text-dark" href="https://blog.curso-r.com/posts/2023-04-12-ocr/">PDF e OCR (atualizado!)</a></h5>
        <p>Por Julio em <a href="/categories/tutoriais">Tutoriais</a></p>
      </div>
    </div>
    
  </div>
  <div class="widget">
    <h4 class="mb-4">LEIA MAIS SOBRE</h4>
    <ul class="list-inline tag-list">
      <li class="list-inline-item m-1"><a href="/categories/an%c3%a1lises">Análises</a></li>
      <li class="list-inline-item m-1"><a href="/categories/boas-pr%c3%a1ticas">Boas práticas</a></li>
      <li class="list-inline-item m-1"><a href="/categories/conceitos">Conceitos</a></li>
      <li class="list-inline-item m-1"><a href="/categories/debugging">Debugging</a></li>
      <li class="list-inline-item m-1"><a href="/categories/desafio">Desafio</a></li>
      <li class="list-inline-item m-1"><a href="/categories/discuss%c3%b5es">Discussões</a></li>
      <li class="list-inline-item m-1"><a href="/categories/divulga%c3%a7%c3%a3o">Divulgação</a></li>
      <li class="list-inline-item m-1"><a href="/categories/erros">Erros</a></li>
      <li class="list-inline-item m-1"><a href="/categories/pacotes">Pacotes</a></li>
      <li class="list-inline-item m-1"><a href="/categories/r">R</a></li>
      <li class="list-inline-item m-1"><a href="/categories/top-10">Top 10</a></li>
      <li class="list-inline-item m-1"><a href="/categories/tutoriais">Tutoriais</a></li>
      <li class="list-inline-item m-1"><a href="/categories/tutorial">Tutorial</a></li>
    </ul>
  </div>
</div>

    </div>
  </div>
</section>




<footer class="bg-footer" style = "background-image: url('https://blog.curso-r.com/images/footerImage.webp')">
  <div class="section">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          <a href="https://www.curso-r.com"><img src="https://blog.curso-r.com/images/footerLogo.webp" alt="Blog | Curso-R" class="img-fluid"></a>
        </div>
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          
          <h6>Dúvidas de R?</h6>
          <ul class="list-unstyled">
            <li class="font-secondary text-dark"><a href="https://discourse.curso-r.com/">Acesse nosso fórum</a></li>
          </ul>
          
        </div>
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          
          <h6>Fale com a gente</h6>
          <ul class="list-unstyled">
            
            
            <li class="font-secondary text-dark"><a href="mailto:contato@curso-r.com">contato@curso-r.com</a></li>
            
          </ul>
          
        </div>
        <div class="col-md-3 col-sm-6 mb-4 mb-md-0">
          <h6>Siga a Curso-R</h6>
          <ul class="list-inline d-inline-block">
            
            <li class="list-inline-item"><a href="https://github.com/curso-r" class="text-dark" target = "_blank"><i class="ti-github"></i></a></li>
            
            <li class="list-inline-item"><a href="https://twitter.com/curso_r" class="text-dark" target = "_blank"><i class="ti-twitter-alt"></i></a></li>
            
            <li class="list-inline-item"><a href="https://www.instagram.com/cursoo_r/" class="text-dark" target = "_blank"><i class="ti-instagram"></i></a></li>
            
            <li class="list-inline-item"><a href="https://br.linkedin.com/company/curso-r" class="text-dark" target = "_blank"><i class="ti-linkedin"></i></a></li>
            
            <li class="list-inline-item"><a href="https://www.facebook.com/cursodeR/" class="text-dark" target = "_blank"><i class="ti-facebook"></i></a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
    <div class="text-center pb-3 copyright">
        <h6 class="mb-0">Copyright © 2021 Curso-R</h6>
        <p class="mb-0" style = "font-size: 0.8em;"> Site feito em <a href = "https://gohugo.io/" target = "_blank">Hugo</a>, com o pacote <a href = "https://bookdown.org/yihui/blogdown/" target = "_blank">Blogdown</a>. Tema por <a href = "https://themefisher.com/" target = "_blank">Themefisher</a>.</p>
    </div>
</footer>



<script>
  var indexURL = "https://blog.curso-r.com/index.json"
</script>


<!-- JS Plugins -->

<script src="https://blog.curso-r.com/plugins/jQuery/jquery.min.js"></script>

<script src="https://blog.curso-r.com/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://blog.curso-r.com/plugins/slick/slick.min.js"></script>

<script src="https://blog.curso-r.com/plugins/headroom/headroom.js"></script>

<script src="https://blog.curso-r.com/plugins/instafeed/instafeed.min.js"></script>

<script src="https://blog.curso-r.com/plugins/masonry/masonry.js"></script>

<script src="https://blog.curso-r.com/plugins/reading-time/readingTime.min.js"></script>

<script src="https://blog.curso-r.com/plugins/smooth-scroll/smooth-scroll.js"></script>

<script src="https://blog.curso-r.com/plugins/search/fuse.min.js"></script>

<script src="https://blog.curso-r.com/plugins/search/mark.js"></script>

<script src="https://blog.curso-r.com/plugins/search/search.js"></script>

<script src="https://blog.curso-r.com/js/highlight.pack.js"></script>

<script src="https://platform.illow.io/banner.js?siteId=962b4071-1b48-4756-8b80-68101acc70df"></script>


<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- Main Script -->

<script src="https://blog.curso-r.com/js/script.min.js"></script>

<!-- google analitycs -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-87272102-2', 'auto');
  ga('send', 'pageview');
</script>





</body>
</html>